{"ast":null,"code":"var _jsxFileName = \"D:\\\\projet\\\\gestion-de-PFE\\\\gestion-de-PFE\\\\client\\\\src\\\\components\\\\admin\\\\student\\\\Student.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, Fragment } from \"react\";\nimport Select from \"react-select\";\nimport { DataGrid } from '@material-ui/data-grid';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Student() {\n  _s();\n\n  const [selectedFiliere, setSelectedFiliere] = useState(\"\");\n  const [filieres, setFiliere] = useState([]);\n  const [loaded, setloaded] = useState(false);\n  const columns = [{\n    field: 'id',\n    headerName: 'CNE',\n    width: 150\n  }, {\n    field: 'firstName',\n    headerName: 'PRENOM',\n    width: 150\n  }, {\n    field: 'lastName',\n    headerName: 'NOM',\n    width: 150\n  }, {\n    field: 'dateNaissance',\n    headerName: 'DATE DE NAISSANCE',\n    type: 'date',\n    width: 150\n  }, {\n    field: 'genre',\n    headerName: 'Genre',\n    width: 120\n  }, {\n    field: 'email',\n    headerName: 'EMAIL',\n    width: 160\n  }, {\n    field: 'option',\n    headerName: 'Option',\n    width: 160,\n    renderCell: params => /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"${params.getValue('id')}\",\n      children: [\"$\", params.getValue(\"id\")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }, this)\n  }];\n  const [rows, setrows] = useState([]); // const rows = [\n  //   { id: 1, lastName: 'Snow', firstName: 'Jon', age: 35 },\n  //   { id: 2, lastName: 'Lannister', firstName: 'Cersei', age: 42 },\n  //   { id: 3, lastName: 'Lannister', firstName: 'Jaime', age: 45 },\n  //   { id: 4, lastName: 'Stark', firstName: 'Arya', age: 16 },\n  //   { id: 5, lastName: 'Targaryen', firstName: 'Daenerys', age: 14 },\n  //   { id: 6, lastName: 'Melisandre', firstName: null, age: 150 },\n  //   { id: 7, lastName: 'Clifford', firstName: 'Ferrara', age: 44 },\n  //   { id: 8, lastName: 'Frances', firstName: 'Rossini', age: 36 },\n  //   { id: 9, lastName: 'Roxie', firstName: 'Harvey', age: 65 },\n  // ];\n\n  const handleChange = selectedFiliere => {\n    console.log(selectedFiliere);\n    setSelectedFiliere(selectedFiliere);\n  }; //getting filieres\n\n\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/api/filieres\").then(function (response) {\n      let t = [],\n          r = [];\n      response.data.filieres.map(x => {\n        t.push({\n          value: x._id,\n          label: x.nomFiliere\n        });\n      });\n      setFiliere(t); // setrows(r)\n    }).catch(function (error) {});\n  }, []); // get students\n\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/api/filieres/\" + selectedFiliere.value).then(function (response) {\n      let t = [];\n      response.data.students.map(e => {\n        t.push({\n          id: e.cne,\n          lastName: e.prenom,\n          firstName: e.prenom,\n          dateNaissance: e.dateNaissance,\n          genre: e.genre,\n          email: e.email\n        });\n      });\n      setrows(t); // setrows(r)\n    }).catch(function (error) {});\n  }, [selectedFiliere]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-4 mb-5\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          value: selectedFiliere,\n          onChange: handleChange,\n          options: filieres\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white\",\n      style: {\n        height: 400,\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(DataGrid, {\n        rows: rows,\n        columns: columns,\n        pageSize: 5,\n        checkboxSelection: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Student, \"Y8ZILakE5UsfHZ19JtrrofjHKIY=\");\n\n_c = Student;\n\nvar _c;\n\n$RefreshReg$(_c, \"Student\");","map":{"version":3,"sources":["D:/projet/gestion-de-PFE/gestion-de-PFE/client/src/components/admin/student/Student.js"],"names":["React","useState","useEffect","Fragment","Select","DataGrid","axios","Student","selectedFiliere","setSelectedFiliere","filieres","setFiliere","loaded","setloaded","columns","field","headerName","width","type","renderCell","params","getValue","rows","setrows","handleChange","console","log","get","then","response","t","r","data","map","x","push","value","_id","label","nomFiliere","catch","error","students","e","id","cne","lastName","prenom","firstName","dateNaissance","genre","email","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\r\nimport Select from \"react-select\";\r\nimport { DataGrid } from '@material-ui/data-grid';\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Student() {\r\n\r\n  const [selectedFiliere, setSelectedFiliere] = useState(\"\");\r\n\r\n  const [filieres, setFiliere] = useState([]);\r\n\r\n  const [loaded, setloaded] = useState(false)\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: 'CNE', width: 150 },\r\n    { field: 'firstName', headerName: 'PRENOM', width: 150 },\r\n    { field: 'lastName', headerName: 'NOM', width: 150 },\r\n    { field: 'dateNaissance',headerName: 'DATE DE NAISSANCE',type: 'date',width: 150},\r\n    { field: 'genre',headerName: 'Genre',width: 120},\r\n    { field: 'email',headerName: 'EMAIL',width: 160},\r\n    { field: 'option',headerName: 'Option',width: 160,\r\n    renderCell: (params) => \r\n    <a href=\"${params.getValue('id')}\">${params.getValue(\"id\")}</a> },\r\n  ];\r\n    \r\n    const [rows, setrows] = useState([]);\r\n  // const rows = [\r\n  //   { id: 1, lastName: 'Snow', firstName: 'Jon', age: 35 },\r\n  //   { id: 2, lastName: 'Lannister', firstName: 'Cersei', age: 42 },\r\n  //   { id: 3, lastName: 'Lannister', firstName: 'Jaime', age: 45 },\r\n  //   { id: 4, lastName: 'Stark', firstName: 'Arya', age: 16 },\r\n  //   { id: 5, lastName: 'Targaryen', firstName: 'Daenerys', age: 14 },\r\n  //   { id: 6, lastName: 'Melisandre', firstName: null, age: 150 },\r\n  //   { id: 7, lastName: 'Clifford', firstName: 'Ferrara', age: 44 },\r\n  //   { id: 8, lastName: 'Frances', firstName: 'Rossini', age: 36 },\r\n  //   { id: 9, lastName: 'Roxie', firstName: 'Harvey', age: 65 },\r\n  // ];\r\n\r\n  const handleChange = (selectedFiliere) => {\r\n    console.log(selectedFiliere)\r\n    setSelectedFiliere(selectedFiliere);\r\n  };\r\n  \r\n\r\n    //getting filieres\r\n\r\n    useEffect(() => {\r\n      axios\r\n        .get(\"http://localhost:5000/api/filieres\")\r\n        .then(function (response) {\r\n          let t = [],r=[];\r\n  \r\n          response.data.filieres.map((x) => {\r\n            t.push({ value: x._id, label: x.nomFiliere });\r\n          });\r\n          setFiliere(t);\r\n\r\n          // setrows(r)\r\n        })\r\n        .catch(function (error) {});\r\n    }, []);\r\n\r\n  // get students\r\n    useEffect(() => {\r\n      axios\r\n        .get(\"http://localhost:5000/api/filieres/\"+selectedFiliere.value)\r\n        .then(function (response) {\r\n          let t = [];\r\n  \r\n\r\n          response.data.students.map(e=>{\r\n              t.push({  id: e.cne, lastName: e.prenom, firstName: e.prenom, dateNaissance: e.dateNaissance,\r\n                genre: e.genre,email: e.email })\r\n               })\r\n      \r\n          setrows(t);\r\n\r\n          // setrows(r)\r\n        })\r\n        .catch(function (error) {});\r\n    }, [selectedFiliere]);\r\n  \r\n\r\n  return (\r\n    <div className=\"\">\r\n    <div className=\"row\">\r\n         <div className=\"col-lg-4 mb-5\">\r\n         <Select\r\n              value={selectedFiliere}\r\n              onChange={handleChange}\r\n              options={filieres}\r\n            />\r\n          </div>\r\n    </div>\r\n\r\n    \r\n    <div className=\"bg-white\" style={{ height: 400, width: '100%' }}>\r\n      <DataGrid rows={rows} columns={columns} pageSize={5} checkboxSelection />\r\n    </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}