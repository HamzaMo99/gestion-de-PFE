{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\pi\\\\projet\\\\client\\\\src\\\\components\\\\chefdept\\\\Liste.js\\\\Liste.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ReactPaginate from 'react-paginate';\nimport \"./styles.css\";\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Liste extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePageClick = e => {\n      const selectedPage = e.selected;\n      const offset = selectedPage * this.state.perPage;\n      this.setState({\n        currentPage: selectedPage,\n        offset: offset\n      }, () => {\n        this.receivedData();\n      });\n    };\n\n    this.state = {\n      offset: 0,\n      data: [],\n      perPage: 10,\n      currentPage: 0\n    };\n    this.handlePageClick = this.handlePageClick.bind(this);\n  }\n\n  receivedData() {\n    axios.get('http://localhost:5000/api/stages').then(function (res) {\n      const data = res.data.stages;\n      const slice = data.slice(this.state.offset, this.state.offset + this.state.perPage);\n      const postData = slice.map(x => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/chefdept/1\",\n            exact: \"true\",\n            children: [x.description, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 36\n          }, this), \"  \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/chefdept/2\",\n            children: [x.dateDebut, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 37\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/chefdept/3\",\n            children: [\" \", x.etudiants.map(e => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\" \", e.nom + \" \" + e.prenom, \" \"]\n              }, e._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 33,\n                columnNumber: 92\n              }, this);\n            }), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"buttons\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            value: x._id,\n            className: \"mr-1\",\n            variant: \"success\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-check\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 95\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            value: x._id,\n            variant: \"danger\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"far fa-trash-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 77\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 31\n        }, this)]\n      }, x._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 19\n      }, this));\n      this.setState({\n        pageCount: Math.ceil(data.length / this.state.perPage),\n        postData\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.receivedData();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.state.postData, /*#__PURE__*/_jsxDEV(ReactPaginate, {\n        previousLabel: \"prev\",\n        nextLabel: \"next\",\n        breakLabel: \"...\",\n        breakClassName: \"break-me\",\n        pageCount: this.state.pageCount,\n        marginPagesDisplayed: 2,\n        pageRangeDisplayed: 5,\n        onPageChange: this.handlePageClick,\n        containerClassName: \"pagination\",\n        subContainerClassName: \"pages pagination\",\n        activeClassName: \"active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/user/Desktop/pi/projet/client/src/components/chefdept/Liste.js/Liste.js"],"names":["React","Component","axios","ReactPaginate","Link","Liste","constructor","props","handlePageClick","e","selectedPage","selected","offset","state","perPage","setState","currentPage","receivedData","data","bind","get","then","res","stages","slice","postData","map","x","description","dateDebut","etudiants","nom","prenom","_id","pageCount","Math","ceil","length","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport axios from 'axios'\r\nimport ReactPaginate from 'react-paginate';\r\nimport \"./styles.css\";\r\nimport {Link} from 'react-router-dom'\r\n\r\nexport default class Liste extends Component {\r\n  constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n          offset: 0,\r\n          data: [],\r\n          perPage: 10,\r\n          currentPage: 0\r\n      };\r\n      this.handlePageClick = this\r\n          .handlePageClick\r\n          .bind(this);\r\n  }\r\n  receivedData() {\r\n    axios.get('http://localhost:5000/api/stages')\r\n      .then(function (res) {\r\n     \r\n\r\n              const data = res.data.stages;\r\n              const slice = data.slice(this.state.offset, this.state.offset + this.state.perPage)\r\n              const postData = slice.map(x => \r\n               \r\n                  <tr key={x._id}> \r\n                            \r\n                              <td> <Link  to=\"/chefdept/1\" exact=\"true\" >{x.description} </Link>  </td>\r\n                              <td > <Link  to=\"/chefdept/2\" >{x.dateDebut} </Link> </td>\r\n                              <td ><Link  to=\"/chefdept/3\"  > {x.etudiants.map(e=>{return (<div key={e._id}> {e.nom+\" \" +e.prenom} </div> )})} </Link></td>\r\n                              <td  className=\"buttons\">  \r\n                                   <Button   value={x._id} className=\"mr-1\" variant=\"success\"><i className=\"fas fa-check\"></i></Button>\r\n                                   <Button   value={x._id} variant=\"danger\"><i className=\"far fa-trash-alt\"></i></Button>\r\n                                  </td>\r\n                        \r\n                        </tr>\r\n                        )\r\n      \r\n\r\n              this.setState({\r\n                  pageCount: Math.ceil(data.length / this.state.perPage),\r\n                 \r\n                  postData\r\n              })\r\n          });\r\n  }\r\n  handlePageClick = (e) => {\r\n      const selectedPage = e.selected;\r\n      const offset = selectedPage * this.state.perPage;\r\n\r\n      this.setState({\r\n          currentPage: selectedPage,\r\n          offset: offset\r\n      }, () => {\r\n          this.receivedData()\r\n      });\r\n\r\n  };\r\n\r\n  componentDidMount() {\r\n      this.receivedData()\r\n  }\r\n  render() {\r\n      return (\r\n          <div>\r\n              {this.state.postData}\r\n              <ReactPaginate\r\n                  previousLabel={\"prev\"}\r\n                  nextLabel={\"next\"}\r\n                  breakLabel={\"...\"}\r\n                  breakClassName={\"break-me\"}\r\n                  pageCount={this.state.pageCount}\r\n                  marginPagesDisplayed={2}\r\n                  pageRangeDisplayed={5}\r\n                  onPageChange={this.handlePageClick}\r\n                  containerClassName={\"pagination\"}\r\n                  subContainerClassName={\"pages pagination\"}\r\n                  activeClassName={\"active\"}/>\r\n          </div>\r\n\r\n      )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}