{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Main\\\\Desktop\\\\2 ANNEE\\\\S4\\\\projet Integre\\\\code\\\\fianl code\\\\version 8\\\\gestion-de-PFE\\\\client\\\\src\\\\components\\\\admin\\\\student\\\\Student.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, Fragment } from \"react\";\nimport Select from \"react-select\";\nimport { DataGrid } from '@material-ui/data-grid';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Student() {\n  _s();\n\n  const [selectedFiliere, setSelectedFiliere] = useState(\"\");\n  const [filieres, setFiliere] = useState([]);\n  const [loaded, setloaded] = useState(false);\n  const columns = [{\n    field: 'id',\n    headerName: 'CNE',\n    width: 150\n  }, {\n    field: 'firstName',\n    headerName: 'PRENOM',\n    width: 150\n  }, {\n    field: 'lastName',\n    headerName: 'NOM',\n    width: 150\n  }, {\n    field: 'dateNaissance',\n    headerName: 'DATE DE NAISSANCE',\n    type: 'date',\n    width: 150\n  }, {\n    field: 'genre',\n    headerName: 'Genre',\n    width: 120\n  }, {\n    field: 'email',\n    headerName: 'EMAIL',\n    width: 160\n  }, {\n    field: 'option',\n    headerName: 'Option',\n    width: 160,\n    renderCell: params => /*#__PURE__*/_jsxDEV(\"a\", {\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"small\",\n      style: {\n        marginLeft: 16\n      },\n      href: params.value,\n      children: \"Open\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this)\n  }];\n  const [rows, setrows] = useState([]); // const rows = [\n  //   { id: 1, lastName: 'Snow', firstName: 'Jon', age: 35 },\n  //   { id: 2, lastName: 'Lannister', firstName: 'Cersei', age: 42 },\n  //   { id: 3, lastName: 'Lannister', firstName: 'Jaime', age: 45 },\n  //   { id: 4, lastName: 'Stark', firstName: 'Arya', age: 16 },\n  //   { id: 5, lastName: 'Targaryen', firstName: 'Daenerys', age: 14 },\n  //   { id: 6, lastName: 'Melisandre', firstName: null, age: 150 },\n  //   { id: 7, lastName: 'Clifford', firstName: 'Ferrara', age: 44 },\n  //   { id: 8, lastName: 'Frances', firstName: 'Rossini', age: 36 },\n  //   { id: 9, lastName: 'Roxie', firstName: 'Harvey', age: 65 },\n  // ];\n\n  const handleChange = selectedFiliere => {\n    console.log(selectedFiliere);\n    setSelectedFiliere(selectedFiliere);\n  }; //getting filieres\n\n\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/api/filieres\").then(function (response) {\n      let t = [],\n          r = [];\n      response.data.filieres.map(x => {\n        t.push({\n          value: x._id,\n          label: x.nomFiliere\n        });\n      });\n      setFiliere(t); // setrows(r)\n    }).catch(function (error) {});\n  }, []); // get students\n\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/api/filieres/\" + selectedFiliere.value).then(function (response) {\n      let t = [];\n      response.data.students.map(e => {\n        t.push({\n          id: e.cne,\n          lastName: e.prenom,\n          firstName: e.prenom,\n          dateNaissance: e.dateNaissance,\n          genre: e.genre,\n          email: e.email,\n          option: \"cc\"\n        });\n      });\n      setrows(t); // setrows(r)\n    }).catch(function (error) {});\n  }, [selectedFiliere]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-4\",\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          value: selectedFiliere,\n          onChange: handleChange,\n          options: filieres\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-6 \",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          class: \"btn btn-info add-new\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fa fa-plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 70\n          }, this), \" Ajouter Nouveau Etudiant\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white\",\n      style: {\n        height: 400,\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(DataGrid, {\n        rows: rows,\n        columns: columns,\n        pageSize: 5,\n        checkboxSelection: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Student, \"Y8ZILakE5UsfHZ19JtrrofjHKIY=\");\n\n_c = Student;\n\nvar _c;\n\n$RefreshReg$(_c, \"Student\");","map":{"version":3,"sources":["C:/Users/Main/Desktop/2 ANNEE/S4/projet Integre/code/fianl code/version 8/gestion-de-PFE/client/src/components/admin/student/Student.js"],"names":["React","useState","useEffect","Fragment","Select","DataGrid","axios","Student","selectedFiliere","setSelectedFiliere","filieres","setFiliere","loaded","setloaded","columns","field","headerName","width","type","renderCell","params","marginLeft","value","rows","setrows","handleChange","console","log","get","then","response","t","r","data","map","x","push","_id","label","nomFiliere","catch","error","students","e","id","cne","lastName","prenom","firstName","dateNaissance","genre","email","option","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\r\nimport Select from \"react-select\";\r\nimport { DataGrid } from '@material-ui/data-grid';\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Student() {\r\n\r\n  const [selectedFiliere, setSelectedFiliere] = useState(\"\");\r\n\r\n  const [filieres, setFiliere] = useState([]);\r\n\r\n  const [loaded, setloaded] = useState(false)\r\n\r\n  const columns = [\r\n    { field: 'id', headerName: 'CNE', width: 150 },\r\n    { field: 'firstName', headerName: 'PRENOM', width: 150 },\r\n    { field: 'lastName', headerName: 'NOM', width: 150 },\r\n    { field: 'dateNaissance',headerName: 'DATE DE NAISSANCE',type: 'date',width: 150},\r\n    { field: 'genre',headerName: 'Genre',width: 120},\r\n    { field: 'email',headerName: 'EMAIL',width: 160},\r\n    { field: 'option',headerName: 'Option',width: 160,\r\n    renderCell: (params) => (\r\n  \r\n        <a\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          style={{ marginLeft: 16 }}\r\n          href={params.value}\r\n        >\r\n          Open\r\n        </a>\r\n      )},\r\n  ];\r\n    \r\n    const [rows, setrows] = useState([]);\r\n  // const rows = [\r\n  //   { id: 1, lastName: 'Snow', firstName: 'Jon', age: 35 },\r\n  //   { id: 2, lastName: 'Lannister', firstName: 'Cersei', age: 42 },\r\n  //   { id: 3, lastName: 'Lannister', firstName: 'Jaime', age: 45 },\r\n  //   { id: 4, lastName: 'Stark', firstName: 'Arya', age: 16 },\r\n  //   { id: 5, lastName: 'Targaryen', firstName: 'Daenerys', age: 14 },\r\n  //   { id: 6, lastName: 'Melisandre', firstName: null, age: 150 },\r\n  //   { id: 7, lastName: 'Clifford', firstName: 'Ferrara', age: 44 },\r\n  //   { id: 8, lastName: 'Frances', firstName: 'Rossini', age: 36 },\r\n  //   { id: 9, lastName: 'Roxie', firstName: 'Harvey', age: 65 },\r\n  // ];\r\n\r\n  const handleChange = (selectedFiliere) => {\r\n    console.log(selectedFiliere)\r\n    setSelectedFiliere(selectedFiliere);\r\n  };\r\n  \r\n\r\n    //getting filieres\r\n\r\n    useEffect(() => {\r\n      axios\r\n        .get(\"http://localhost:5000/api/filieres\")\r\n        .then(function (response) {\r\n          let t = [],r=[];\r\n  \r\n          response.data.filieres.map((x) => {\r\n            t.push({ value: x._id, label: x.nomFiliere });\r\n          });\r\n          setFiliere(t);\r\n\r\n          // setrows(r)\r\n        })\r\n        .catch(function (error) {});\r\n    }, []);\r\n\r\n  // get students\r\n    useEffect(() => {\r\n      axios\r\n        .get(\"http://localhost:5000/api/filieres/\"+selectedFiliere.value)\r\n        .then(function (response) {\r\n          let t = [];\r\n  \r\n\r\n          response.data.students.map(e=>{\r\n              t.push({  id: e.cne, lastName: e.prenom, firstName: e.prenom, dateNaissance: e.dateNaissance,\r\n                genre: e.genre,email: e.email,option:\"cc\" })\r\n               })\r\n      \r\n          setrows(t);\r\n\r\n          // setrows(r)\r\n        })\r\n        .catch(function (error) {});\r\n    }, [selectedFiliere]);\r\n  \r\n\r\n  return (\r\n    <div className=\"\">\r\n    <div className=\"row\">\r\n         <div className=\"col-lg-4\">\r\n         <Select\r\n              value={selectedFiliere}\r\n              onChange={handleChange}\r\n              options={filieres}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-6 \">\r\n              \r\n                  <button type=\"button\" class=\"btn btn-info add-new\"><i class=\"fa fa-plus\"></i> Ajouter Nouveau Etudiant</button>\r\n              \r\n          </div>\r\n    </div>\r\n\r\n    \r\n    <div className=\"bg-white\" style={{ height: 400, width: '100%' }}>\r\n      <DataGrid rows={rows} columns={columns} pageSize={5} checkboxSelection />\r\n    </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}